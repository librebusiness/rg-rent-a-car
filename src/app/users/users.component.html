<div class="max-w-7xl mx-auto p-8">
    <div class="flex">
        <h2 class="text-3xl font-bold">Administraci&oacute;n de Usuarios</h2>
        <span class="flex-auto"></span>
        <button (click)="toggleForm()" class="rounded border border-red-500 hover:bg-red-600 hover:text-white hover:border-red-600 text-red-500 px-3 py-2 items-center" type="button">Nuevo</button>
    </div>
    <div class="my-4" [class.block]="showForm" [class.hidden]="!showForm">
        <h3 class="text-2xl">Crear Usuario</h3>
        <form [formGroup]="userForm">
            <div class="text-end">
                <button type="submit" class="rounded px-3 py-2 cursor-pointer bg-red-500 hover:bg-red-600 text-white" [disabled]="userForm.invalid">Guardar</button>
            </div>
        </form>
    </div>
    <div class="my-4">
        <table class="table w-full">
            <thead>
                <tr>
                    <th class="text-start border-b-2 border-gray-700">Nombre</th>
                    <th class="text-start border-b-2 border-gray-700">Tel√©fono</th>
                    <th class="text-start border-b-2 border-gray-700">Email</th>
                    <th class="text-start border-b-2 border-gray-700">Rol</th>
                    <th class="text-start border-b-2 border-gray-700">Acciones</th>
                </tr>
            </thead>
            <tbody>
                @for (user of users; track user._id) {
                    <tr>
                        <td>{{user.firstname}}</td>
                        <td>{{user.phone}}</td>
                        <td>{{user.email}}</td>
                        <td>{{user.roles.join(', ')}}</td>
                        <td>
                            <button class="rounded px-3 py-2 text-white bg-red-500" type="button">
                                <i class="bi bi-trash"></i>
                            </button>
                            <button class="rounded px-3 py-2 text-white bg-amber-500 mx-2" type="button">
                                <i class="bi bi-pencil"></i>
                            </button>
                            <button class="rounded px-3 py-2 text-white bg-blue-500" type="button">
                                <i class="bi bi-eye"></i>
                            </button>
                        </td>
                    </tr>
                } @empty {
                    <tr>
                        <td colspan="5">
                            <p class="p-3 text-center">Aun no has creado usuarios. Para empezar haz click en el boton "Nuevo".</p>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>